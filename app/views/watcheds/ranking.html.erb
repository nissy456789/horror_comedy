<div class="flex flex-col lg:flex-row">

  <div class="w-full lg:w-1/5 bg-black"></div>

  <div class="w-full lg:w-4/5 flex flex-col items-center bg-black text-white mx-auto p-2 lg:pl-6">
    <h1 class="text-5xl mb-8 mt-10">注目の映画</h1>

    <div class="container mx-auto flex flex-col items-center w-4/5">
      <% @ranked_movies.each.with_index(1) do |movie, i| %>
        <% if i == 1 %>

          <div class="bg-white border-4 border-yellow-500 shadow-xl rounded-lg p-6 flex flex-col lg:flex-row items-center w-full max-w-4xl gap-4">

            <div class="w-full lg:w-1/3 flex justify-center">
              <%= link_to movie_path(movie), class: "block w-full h-full" do %>
                <%= image_tag movie.avatar.url, class: "max-w-full max-h-full object-contain rounded-lg" %>
              <% end %>
            </div>

            <div class="w-full lg:w-2/3 lg:pl-6">
              <div class="flex flex-col lg:flex-row items-center">
                <%= image_tag("first.jpg", class: "w-32 h-32 mr-0 lg:mr-4 mb-4 lg:mb-0") %>
                <div>
                  <h2 class="text-2xl font-bold text-black mb-2"><%= movie.title %></h2>
                  <h3 class="text-black text-lg mb-4">観た人数: <%= movie.watched_count %></h3>
                  <p class="text-black text-sm leading-relaxed"><%= movie.description.truncate(150) %></p>
                </div>
              </div>
            </div>
          </div>

        <% elsif i == 2 %>

          <div class="bg-white border-4 border-gray-500 shadow-lg rounded-lg overflow-hidden p-6 flex flex-col lg:flex-row items-center w-full max-w-4xl gap-4 mt-10">
            <div class="w-full lg:w-1/3 flex justify-center">
              <%= link_to movie_path(movie), class: "block w-full h-full" do %>
                <%= image_tag movie.avatar.url, class: "max-w-full max-h-full object-contain rounded-lg" %>
              <% end %>
            </div>

            <div class="w-full lg:w-2/3 lg:pl-6">
              <div class="flex flex-col lg:flex-row items-center">
                <%= image_tag("second.jpg", class: "w-32 h-32 mr-0 lg:mr-4 mb-4 lg:mb-0") %>
                <div>
                  <h2 class="text-2xl font-bold text-black mb-2"><%= movie.title %></h2>
                  <h3 class="text-black text-lg mb-4">観た人数: <%= movie.watched_count %></h3>
                  <p class="text-black text-sm leading-relaxed"><%= movie.description.truncate(150) %></p>
                </div>
              </div>
            </div>
          </div>

        <% elsif i == 3 %>

          <div class="bg-white border-4 border-red-900 shadow-lg rounded-lg overflow-hidden p-6 flex flex-col lg:flex-row items-center w-full max-w-4xl gap-4 mt-10">
            <div class="w-full lg:w-1/3 flex justify-center">
              <%= link_to movie_path(movie), class: "block w-full h-full" do %>
                <%= image_tag movie.avatar.url, class: "max-w-full max-h-full object-contain rounded-lg" %>
              <% end %>
            </div>

            <div class="w-full lg:w-2/3 lg:pl-6">
              <div class="flex flex-col lg:flex-row items-center">
                <%= image_tag("third.jpg", class: "w-32 h-32 mr-0 lg:mr-4 mb-4 lg:mb-0") %>
                <div>
                  <h2 class="text-2xl font-bold text-black mb-2"><%= movie.title %></h2>
                  <h3 class="text-black text-lg mb-4">観た人数: <%= movie.watched_count %></h3>
                  <p class="text-black text-sm leading-relaxed"><%= movie.description.truncate(150) %></p>
                </div>
              </div>
            </div>
          </div>

        <% end %>
      <% end %>
    </div>
  </div>
</div>
